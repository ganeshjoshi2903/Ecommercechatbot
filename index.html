<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopAssist - Your Shopping Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        #chat-messages {
            max-height: 500px;
            overflow-y: auto;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-gray-100 p-4">
    <div class="w-full max-w-4xl bg-white shadow-2xl rounded-2xl overflow-hidden">
        <!-- Navigation -->
        <nav class="bg-gradient-to-r from-orange-500 to-pink-500 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-2xl font-bold">ShopAssist</h1>
                <div id="nav-buttons" class="space-x-4">
                    <button data-section="create-account" class="nav-button hover:bg-white hover:text-orange-500 px-4 py-2 rounded">
                        Create Account
                    </button>
                    <button data-section="login" class="nav-button hover:bg-white hover:text-orange-500 px-4 py-2 rounded">
                        Login
                    </button>
                </div>
            </div>
        </nav>

        <!-- Create Account Section -->
        <section id="create-account" class="section p-8">
            <div class="max-w-md mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">Create Your Account</h2>
                <form id="signup-form" class="space-y-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Full Name</label>
                        <input type="text" id="signup-name" class="w-full p-3 border rounded-lg" placeholder="Enter your full name" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Email Address</label>
                        <input type="email" id="signup-email" class="w-full p-3 border rounded-lg" placeholder="you@example.com" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Password</label>
                        <input type="password" id="signup-password" class="w-full p-3 border rounded-lg" placeholder="Create a strong password" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Confirm Password</label>
                        <input type="password" id="signup-confirm-password" class="w-full p-3 border rounded-lg" placeholder="Confirm your password" required>
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white p-3 rounded-lg hover:opacity-90 transition">
                        Create Account
                    </button>
                </form>
            </div>
        </section>

        <!-- Login Section -->
        <section id="login" class="section p-8">
            <div class="max-w-md mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">Welcome Back</h2>
                <form id="login-form" class="space-y-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Email Address</label>
                        <input type="email" id="login-email" class="w-full p-3 border rounded-lg" placeholder="Enter your email" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Password</label>
                        <input type="password" id="login-password" class="w-full p-3 border rounded-lg" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white p-3 rounded-lg hover:opacity-90 transition">
                        Login
                    </button>
                </form>
            </div>
        </section>

        <!-- Chatbot Section -->
        <section id="chatbot" class="section p-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Product Catalog -->
                <div class="bg-gray-100 rounded-lg p-6">
                    <h3 class="text-2xl font-bold mb-4 text-orange-600">Our Products</h3>
                    <div id="product-catalog" class="space-y-4">
                        <!-- Products will be dynamically added here -->
                    </div>
                </div>

                <!-- Chatbot Interface -->
                <div>
                    <div class="bg-white rounded-lg shadow-lg">
                        <div class="bg-gradient-to-r from-orange-500 to-pink-500 text-white p-4 rounded-t-lg">
                            <h3 class="text-xl font-bold">Shopping Assistant</h3>
                        </div>
                        
                        <div id="chat-messages" class="p-4 h-96 overflow-y-auto">
                            <div class="message bot-message bg-gray-100 p-3 rounded-lg mb-2">
                                <p>Hello! I'm your shopping assistant. How can I help you today?</p>
                            </div>
                        </div>
                        
                        <div class="p-4 border-t">
                            <div class="flex">
                                <input 
                                    type="text" 
                                    id="user-input" 
                                    class="flex-grow p-2 border rounded-l-lg" 
                                    placeholder="Type your message..."
                                >
                                <button 
                                    id="send-button" 
                                    class="bg-orange-500 text-white px-4 py-2 rounded-r-lg"
                                >
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Cart Section -->
                    <div class="mt-6 bg-white rounded-lg shadow-lg">
                        <div class="bg-gradient-to-r from-orange-500 to-pink-500 text-white p-4 rounded-t-lg">
                            <h3 class="text-xl font-bold">Your Cart</h3>
                        </div>
                        <div id="cart-items" class="p-4">
                            <p class="text-gray-500">Your cart is empty</p>
                        </div>
                        <div class="p-4 border-t flex justify-between items-center">
                            <span class="font-bold">Total:</span>
                            <span id="cart-total" class="text-orange-600 font-bold">$0.00</span>
                        </div>
                        <button id="checkout-button" class="w-full bg-green-500 text-white p-3 hover:bg-green-600 transition">
                            Proceed to Checkout
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Section Management
        const sections = document.querySelectorAll('.section');
        const navButtons = document.querySelectorAll('.nav-button');
        
        function showSection(sectionId) {
            // Hide all sections
            sections.forEach(section => section.classList.remove('active'));
            
            // Show selected section
            const selectedSection = document.getElementById(sectionId);
            if (selectedSection) {
                selectedSection.classList.add('active');
            }
        }

        // Navigation Button Listeners
        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const sectionToShow = button.getAttribute('data-section');
                showSection(sectionToShow);
            });
        });

        // Initial section
        showSection('create-account');

        // Signup Form Handling
        const signupForm = document.getElementById('signup-form');
        signupForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;

            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }

            // Store user (in a real app, this would be server-side)
            localStorage.setItem('user', JSON.stringify({ name, email }));
            
            alert('Account created successfully!');
            showSection('login');
        });

        // Login Form Handling
        const loginForm = document.getElementById('login-form');
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            // Simple validation (in a real app, this would be server-side)
            const storedUser = JSON.parse(localStorage.getItem('user'));
            if (storedUser && storedUser.email === email) {
                showSection('chatbot');
            } else {
                alert('Invalid login. Please create an account first.');
            }
        });

        // Product Catalog
        const products = [
            {
                id: 1,
                name: "Wireless Bluetooth Headphones",
                price: 79.99,
                category: "Electronics",
                description: "High-quality noise-canceling headphones"
            },
            {
                id: 2,
                name: "Smart Fitness Tracker",
                price: 49.99,
                category: "Fitness",
                description: "Waterproof fitness watch with heart rate monitoring"
            },
            {
                id: 3,
                name: "Portable Bluetooth Speaker",
                price: 59.99,
                category: "Electronics",
                description: "Compact wireless speaker with rich sound"
            }
        ];

        // Populate Product Catalog
        const productCatalog = document.getElementById('product-catalog');
        products.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.classList.add('bg-white', 'p-4', 'rounded-lg', 'shadow-md');
            productDiv.innerHTML = `
                <h4 class="font-bold text-lg">${product.name}</h4>
                <p class="text-gray-600">${product.description}</p>
                <div class="flex justify-between items-center mt-2">
                    <span class="text-orange-600 font-bold">$${product.price.toFixed(2)}</span>
                    <button class="add-to-cart bg-orange-500 text-white px-3 py-1 rounded" data-id="${product.id}">
                        Add to Cart
                    </button>
                </div>
            `;
            productCatalog.appendChild(productDiv);
        });

        // Cart Management
        let cart = [];
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');

        // Add to Cart Listeners
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const productId = parseInt(button.getAttribute('data-id'));
                const product = products.find(p => p.id === productId);
                
                // Add to cart or increase quantity
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({...product, quantity: 1});
                }

                updateCart();
            });
        });

        // Update Cart Display
        function updateCart() {
            // Clear existing cart items
            cartItems.innerHTML = '';

            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500">Your cart is empty</p>';
                cartTotal.textContent = '$0.00';
                return;
            }

            // Populate cart
            let total = 0;
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                const cartItemDiv = document.createElement('div');
                cartItemDiv.classList.add('flex', 'justify-between', 'items-center', 'mb-2');
                cartItemDiv.innerHTML = `
                    <span>${item.name} x${item.quantity}</span>
                    <span>$${itemTotal.toFixed(2)}</span>
                `;
                cartItems.appendChild(cartItemDiv);
            });

            // Update total
            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        // Chatbot Messaging
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        function addMessage(message, type = 'bot') {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add(
                'message', 
                type === 'bot' ? 'bot-message bg-gray-100' : 'user-message bg-orange-100',
                'p-3', 
                'rounded-lg',
                'mb-2'
            );
            messageDiv.innerHTML = `<p>${message}</p>`;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function processChatbotCommand(message) {
            const lowerMessage = message.toLowerCase().trim();

            if (lowerMessage === 'help') {
                addMessage('Available commands:<br>- show products<br>- add to cart<br>- view cart');
                return;
            }

            if (lowerMessage === 'show products') {
                const productList = products.map(p => 
                    `${p.name} - $${p.price}`
                ).join('<br>');
                addMessage(`Available Products:<br>${productList}`);
                return;
            }

            addMessage("I didn't understand that. Type 'help' for available commands.");
        }

        // Send Message Handler
        sendButton.addEventListener('click', () => {
            const message = userInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            
            // Process message
            processChatbotCommand(message);
            
            // Clear input
            userInput.value = '';
        });

        // Initial chatbot message
        addMessage("Hello! I'm your shopping assistant. Type 'help' for available commands.");
    </script>